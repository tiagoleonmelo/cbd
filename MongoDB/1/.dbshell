a
quit
db.i
db.users.insertOne( {name:"sue", age:26, status:"pending"} )
db.users.find( {age:26} )
quit
db.inventory.insertMany( {item: "banana", color: "yellow"}, {item: "apple", color: "green"}, {item: "stapler", ammo: "250"} )
db.inventory.insertMany([ {item: "banana", color: "yellow"}, {item: "apple", color: "green"}, {item: "stapler", ammo: "250"} ])
db.contacts.insertOne( {name:"Tiago", nr:123123123} )
db.inventory.find( {} )
db.inventory.insert_many([     {"item": "journal",      "qty": 25,      "size": {"h": 14, "w": 21, "uom": "cm"},      "status": "A"},     {"item": "notebook",      "qty": 50,      "size": {"h": 8.5, "w": 11, "uom": "in"},      "status": "A"},     {"item": "paper",      "qty": 100,      "size": {"h": 8.5, "w": 11, "uom": "in"},      "status": "D"},     {"item": "planner",      "qty": 75, "size": {"h": 22.85, "w": 30, "uom": "cm"},      "status": "D"},     {"item": "postcard",      "qty": 45,      "size": {"h": 10, "w": 15.25, "uom": "cm"},      "status": "A"}])
db.inventory.insertMany([     {"item": "journal",      "qty": 25,      "size": {"h": 14, "w": 21, "uom": "cm"},      "status": "A"},     {"item": "notebook",      "qty": 50,      "size": {"h": 8.5, "w": 11, "uom": "in"},      "status": "A"},     {"item": "paper",      "qty": 100,      "size": {"h": 8.5, "w": 11, "uom": "in"},      "status": "D"},     {"item": "planner",      "qty": 75, "size": {"h": 22.85, "w": 30, "uom": "cm"},      "status": "D"},     {"item": "postcard",      "qty": 45,      "size": {"h": 10, "w": 15.25, "uom": "cm"},      "status": "A"}])
db.inventory.find( {} )
db.inventory.find( {qty > 50} )
show dbs
db.find.inventory( {} )
db.inventory.find( {} )
show collections
show db
show dbs
show test
db.inventory.explain()
db.stats
db.stats()
use config
db.stats()
use test
db.stats()
db.rest.find()
db.rest.find({})
show collections
db.rest.count()
use cbd
show collections
db.rest.find()
db.rest.find({}, restaurant_id)
db.rest.find({}, restaurant_id: 1)
db.rest.find({}, {restaurant_id: 1})
db.rest.find({}, {restaurant_id: 2})
db.rest.find({}, {restaurant_id: 1, nome: 1, localidade: 1, gastronomia: 1})
db.rest.find({}, {_id: 0, restaurant_id: 1, nome: 1, localidade: 1, gastronomia: 1})
db.rest.find({}, {_id: 0, restaurant_id: 1, nome: 1, localidade: 1, gastronomia: 1, zipcode: 1})
db.rest.find({}, {_id: 0, restaurant_id: 1, nome: 1, localidade: 1, gastronomia: 1, address:{zipcode: 1}})
db.rest.find({}, {_id: 0, restaurant_id: 1, nome: 1, localidade: 1, gastronomia: 1, address.zipcode: 1})
db.rest.find({}, {_id: 0, restaurant_id: 1, nome: 1, localidade: 1, gastronomia: 1, address: [ {zipcode: 1} ] })
it
db.rest.find({}, {_id: 0, restaurant_id: 1, nome: 1, localidade: 1, gastronomia: 1, address: [ {zipcode: 1} ] })
db.rest.find({}, {_id: 0, restaurant_id: 1, nome: 1, localidade: 1, gastronomia: 1, address: {zipcode: 1}  })
db.rest.find({}, {_id: 0, restaurant_id: 1, nome: 1, localidade: 1, gastronomia: 1, address.zipcode: 1  })
db.rest.find({}, {_id: 0, restaurant_id: 1, nome: 1, localidade: 1, gastronomia: 1, 'address'.'zipcode': 1  })
db.rest.find({}, {_id: 0, restaurant_id: 1, nome: 1, localidade: 1, gastronomia: 1, "address"."zipcode": 1  })
db.rest.find({}, {_id: 0, restaurant_id: 1, nome: 1, localidade: 1, gastronomia: 1, "address:zipcode": 1  })
db.rest.find({}, {_id: 0, restaurant_id: 1, nome: 1, localidade: 1, gastronomia: 1, "address.zipcode": 1  })
db.rest.find({localidade:"Bronx"}, {_id: 0, restaurant_id: 1, nome: 1, localidade: 1, gastronomia: 1, "address.zipcode": 1  })
count(db.rest.find({localidade:"Bronx"}))
db.rest.count(db.rest.find({localidade:"Bronx"}))
db.rest.count({localidade:"Bronx"})
db.rest.find({localidade:"Bronx"}).limit(5)
db
use cbd
show collections
show dbs
db.createCollection(mycoll)
db.createCollection("mycoll")
db.mycoll.drop()
show collections
db.rest.find()
db.rest.find().pretty()
db.rest.findOne()
db.rest.find({score:{ $gt:85 }} )
db.rest.find({score:{ $gt:85 }})
db
show collections
db.rest.count()
db.rest.find({"grade.score":{ $gt:85 }})
db.rest.find({"grades.score":{ $gt:85 }})
db.rest.find({"grades.score":{ $gt:85 }}).pretty()
db.rest.find({"grades.score":{ $gt:80, $lt:100 }}).pretty()
db.rest.find({"grades.score":{ $and [ $gt:80, $lt:100 ] }}).pretty()
db.rest.find({ $and: [ {"grades.score": $gt:80}, {"grades.score": $lt:100 } ] }).pretty()
db.rest.find( { $and: [ {"grades.score":$gt:80}, {"grades.score":$lt:100} ] } )
db.rest.find( { $and: [ {"grades.score":{$gt:80}}, {"grades.score":{$lt:100}} ] } )
db.rest.find( { $and: [ {"grades.score":{$gt:80}}, {"grades.score":{$lt:100}} ] } ).pretty()
db.rest.find( { $and: [ {"grades.score":{$gt:80, $lt:100}} ] } ).pretty()
db.rest.find( { $and: [ {"grades.score":{$lt:100, $gt:80}} ] } ).pretty()
db.rest.find(  {"grades.score":{$lt:100, $gt:80}}  ).pretty()
db.rest.find(  {"grades.score":{$lt:100}}  ).pretty()
db.rest.find(  {"grades.score":{$lt:100, $gt:90}}  ).pretty()
db.rest.find(  {"grades.score":{$lt:100, $gt:80}}  ).pretty()
db.rest.find( coord[0]: {$lt: -95.7} )
db.rest.find( coord: { $slice : 1 $lt: -95.7} )
db.rest.find( "$arrayElemAt": ["coord", 1] )
db.rest.find({ bar : "xyz" } , { coord : { $slice : [1 , 1] } } )
db.rest.find({ coord : { $slice : [1 , 1] } } )
db.rest.find({ coord : { $slice : 1  } } )
db.rest.find({ coord : { $slice : 1  } }:{$lt:-95} )
db.rest.find(  {"grades.score": { $elemMatch: {$lt:100, $gt:80}}  ).pretty()  )
db.rest.find(  {"grades.score": { $elemMatch: {$lt:100, $gt:80}}}  ).pretty()  )
db.rest.find(  { "grades.score" :  { $elemMatch: { $lt:100, $gt:80 } } }  )
db.rest.find(  { "grades.score" :  { $lt:100, $gt:80 } }  )
db.rest.find(  { "grades.score" :  { $lt:100, $gt:80 } }  ).pretty()
db.rest.find(  { "grades.score" :  { $elemMatch: { $lt:100, $gt:80 } } }  )
db.rest.find()
db.rest.find().pretty()
db.rest.find(  { "grades.score" :  { $elemMatch: { $lt:100, $gt:80 } } }  )
db.rest.find({ bar : "xyz" } , { coord : { $slice : [1 , 1] } } )
db.rest.find({ } , { coord : { $slice : [1 , 1] } } )
db.rest.find({ } , { coord : { $slice : [1 , 1] } } ).pretty()
db.rest.find({ } , { coord : { $slice : 1 } } ).pretty()
db.rest.find({ } , { "address.coord" : { $slice : 1 } } ).pretty()
db.rest.find({ "address.coord" : { $slice : 1 } } , { "address.coord" : { $slice : 1 } } ).pretty()
db.rest.find({ "address.coord" : { $gt: 10 } } , { "address.coord" : { $slice : 1 } } ).pretty()
db.rest.find({ "address.coord" : { $gt: 1000 } } , { "address.coord" : { $slice : 1 } } ).pretty()
db.rest.find({ "address.coord" : { $gt: 10 } } , { "address.coord" : { $slice : 1 } } ).pretty()
db.rest.find({ "address.coord" : { $gt: 1000 } } , { "address.coord" : { $slice : 1 } } ).pretty()
db.rest.find({ "address.coord" : { $lt: 1000 } } , { "address.coord" : { $slice : 1 } } ).pretty()
db.rest.find({ "address.coord" :  { $slice : 1 } } { $lt: 1000 } } , { "address.coord" : { $slice : 1 } } ).pretty()
db.rest.find( "address.coord" :  { $slice : 1 }  { $lt: 1000 } } , { "address.coord" : { $slice : 1 } } ).pretty()
db.rest.find({ "address.coord" : { $lt: 1000 } } , { "address.coord" : { $slice : 1 } } ).pretty()
db.rest.find({ "address.coord" : { $eq: -73.9829239 } } , { "address.coord" : { $slice : 1 } } ).pretty()
db.rest.find({ "address.coord.1" : { $eq: -73.9829239 } } , { "address.coord" : { $slice : 1 } } ).pretty()
db.rest.find({ "address.coord.0" : { $eq: -73.9829239 } } , { "address.coord" : { $slice : 1 } } ).pretty()
db.rest.find({ "address.coord.0" : { $lt: -95.7 } }).pretty()
db.rest.find( { "gastronomia": { $ne : "American" } } )
db.rest.find( { "gastronomia": { $ne : "American" } } ).pretty
db.rest.find( { "gastronomia": { $ne : "American" } } ).pretty()
db.rest.find( $and [{ "gastronomia": { $ne : "American" } }, { "grades.score": { $lt : 70 } }, { "addres.coord.0" : { $lt : -65 } }] ).pretty()
db.rest.find( { $and [{ "gastronomia": { $ne : "American" } }, { "grades.score": { $lt : 70 } }, { "addres.coord.0" : { $lt : -65 } }] } ).pretty()
db.rest.find( { $and: [{ "gastronomia": { $ne : "American" } }, { "grades.score": { $lt : 70 } }, { "addres.coord.0" : { $lt : -65 } }] } ).pretty()
db.rest.find( { $and: [{ "gastronomia": { $ne : "American" } }, { "grades.score": { $lt : 70 } }, { "addres.coord.1" : { $lt : -65 } }] } ).pretty()
db.rest.find( { $and: [{ "gastronomia": { $ne : "American" } }, { "grades.score": { $lt : 70 } }, { "addres.coord.0" : { $lt : -65 } }] } ).pretty()
db.rest.find( { $and: [{ "gastronomia": { $ne : "American" } }, { "grades.score": { $gt : 70 } }, { "addres.coord.0" : { $lt : -65 } }] } ).pretty()
db.rest.find( { $and: [{ "gastronomia": { $ne : "American" } }, { "grades.score": { $gt : 70 } }, { "address.coord.0" : { $lt : -65 } }] } ).pretty()
db.rest.find( { "nome" : { $regex : "Wil.*"}  } , { "restaurant_id" : 1, "nome" : 1, "localidade" : 1, "gastronomia" : 1})
db.rest.find( { "nome" : { $regex : "Wil.*"}  } , { "restaurant_id" : 1, "nome" : 1, "localidade" : 1, "gastronomia" : 1}).pretty()
db.rest.find( { "nome" : { $regex : "Wil.*"}  } , { "restaurant_id" : 1, "nome" : 1, "localidade" : 1, "gastronomia" : 1, "_id" : 0}).pretty()
db.rest.find( { $and : [ { "localidade" : "Bronx" }, $or : [ { "gastronomia" : "American" }, { "gastronomia" : "Chinese" } ]  } , { "nome" : 1, "localidade" : 1, "gastronomia" : 1, "_id" : 0}).pretty() )
db.rest.find( { $and : [ { "localidade" : "Bronx" }, $or : [ { "gastronomia" : "American" }, { "gastronomia" : "Chinese" } ] ]  } , { "nome" : 1, "localidade" : 1, "gastronomia" : 1, "_id" : 0}).pretty() )
db.rest.find( { $and : [ { "localidade" : "Bronx" }, { $or : [ { "gastronomia" : "American" }, { "gastronomia" : "Chinese" } ] } ]  } , { "nome" : 1, "localidade" : 1, "gastronomia" : 1, "_id" : 0}).pretty() )
db.rest.find( { "localidade" : "Bronx" },  $or : [ { "gastronomia" : "American" }, { "gastronomia" : "Chinese" } ] } , { "nome" : 1, "localidade" : 1, "gastronomia" : 1, "_id" : 0}).pretty() )
db.rest.find( { "localidade" : "Bronx" ,  $or : [ { "gastronomia" : "American" }, { "gastronomia" : "Chinese" } ] } , { "nome" : 1, "localidade" : 1, "gastronomia" : 1, "_id" : 0}).pretty() )
db.rest.find( { "localidade" : "Bronx" ,  $or : [ { "gastronomia" : "American" }, { "gastronomia" : "Chinese" } ] } , { "nome" : 1, "localidade" : 1, "gastronomia" : 1, "_id" : 0}).pretty()
db.rest.find( { $or : [ "localidade" : "Staten Island", "localidade" : "Queens" ]  } )
db.rest.find( { $or : [ "localidade" : "Staten Island", "localidade" : "Queens" ] } )
db.rest.find( { $or : [ {"localidade" : "Staten Island"}, {"localidade" : "Queens"} ] } )
db.rest.find( { $or : [ {"localidade" : "Staten Island"}, {"localidade" : "Queens"} ] } ).pretty()
db.rest.find( { $or : [ {"localidade" : "Staten Island"}, {"localidade" : "Queens"}, {"localidade" : "Bronx"}, {"localidade" : "Brooklyn"} ] }, { "restaurant_id" : 1, "nome" : 1, "localidade" : 1, "gastronomia" : 1, "_id" : 0} ).pretty()
use cbd
show collections
db.rest.find( {} )
db.rest.find( {} ).pretty()
db.rest.find( { "grades.score": {$lte:3} } )
db.rest.find( { "grades.score": {$lte:3} } ).pretty()
db.rest.find( { "$elemMatch" : { "grades.score": {$lte:3} } } ).pretty()
db.rest.find( { "grades.score": {"$elemMatch": {$lte:3} } } ).pretty()
db.rest.find( { "grades.score": {"$elemMatch": {$lte:25} } } ).pretty()
db.rest.find( { "grades": { "$elemMatch": {"users": {$lte:25 } } } } ).pretty()
db.rest.find( { "grades": { "$elemMatch": {"score": {$lte:25 } } } } ).pretty()
db.rest.find( { "grades": { "$elemMatch": {"score": {$lte:3 } } } } ).pretty()
db.rest.find( { "grades": { "$not":{ "$elemMatch": {"score": {$lte:3 } } } } }).pretty()
db.rest.find( { "grades": { "$not":{ "$elemMatch": {"score": {$gt:3 } } } } }).pretty()
db.rest.find( { "grades": { "$not":{ "$elemMatch": {"score": {$gt:3 } } } } }, {"nome" : 1, "localidade" : 1, "gastronomia" : 1, "_id" : 0}).pretty()
db.rest.find( { "grades": { "$not":{ "$elemMatch": {"score": {$gt:3 } } } } }).pretty()
db.rest.find( { "grades.grade" : "A", "grades.score":10, "grades.date":"ISODATE(2014-08-11T00: 00: 00Z)"} )
db.rest.find( { "grades.grade" : "A", "grades.score":10, "grades.date":"ISODATE(2014-08-11T00:00:00Z)"} )
db.rest.find( { "grades.grade" : "A", "grades.score":10} )
db.rest.find( { "grades.grade" : "A", "grades.score":10} )pretty()
db.rest.find( { "grades.grade" : "A", "grades.score":10} ).pretty()
db.rest.find( { "grades.grade" : "A", "grades.score":10, "grades.date":"ISODATE("2014-08-11T00:00:00Z")"} )
db.rest.find( { "grades.grade" : "A", "grades.score":10, "grades.date":'ISODATE("2014-08-11T00:00:00Z")'} )
db.rest.find( { "grades.grade" : "A", "grades.score":10, "grades.date":"ISODATE(\"2014-08-11T00:00:00Z\")"} )
db.rest.find( { "grades.grade" : "A", "grades.score":10, "grades.date":ISODate("2012-05-15T00:00:00Z")} )
db.rest.find( { "grades.grade" : "A", "grades.score":10, "grades.date":ISODate("2012-05-15T00:00:00Z")} ).pretty()
db.rest.find( { "grades.grade" : "A", "grades.score":10, "grades.date":ISODate("2014-08-11T00:00:00Z")} ).pretty()
db.rest.find( { "$elemMatch" : { "grades.grade" : "A", "grades.score":10, "grades.date":ISODate("2014-08-11T00:00:00Z")} } ).pretty()
db.rest.find(  { "grades.score" :  { $elemMatch: { $and: { [ $lt:100, $gt:80 ] } } } }  )
db.rest.find(  { "grades.score" :  { $elemMatch: { $lt:100, $gt:80 } } }  )
db.rest.find(  { "grades.score" :  { $elemMatch: { $lt:80, $gt:100 } } }  )
db.rest.find(  { "grades.score" :  { $elemMatch: { $lt:100, $gt:80 } } }  )
db.rest.find(  { "grades" :  { $elemMatch: { "score" : {  $lt:100 }} , "score" : { $gt:80 } } } }  )
db.rest.find(  { "grades" :  { $elemMatch: { "score" : {  $lt:100 }  , "score" : { $gt:80 } } } }  )
db.rest.find(  { "grades" :  { $elemMatch: { "score" : {  $lt:100 }  , "score" : { $gt:80 } } } }  ).pretty()
db.rest.find( { "grades" : { "$elemMatch" : { "grade" : "A", "score":10, "date":ISODate("2014-08-11T00:00:00Z") } } } ).pretty()
db.rest.find( { "grades" : { "$elemMatch" : { $and { [ "grade" : "A", "score":10, "date":ISODate("2014-08-11T00:00:00Z") ] } } } }).pretty()
db.rest.find( { "grades" : { "$elemMatch" : {  "grade" : "A", "score":10, "date":ISODate("2014-08-11T00:00:00Z")  } } }).pretty()
db.rest.find( { "grades" : { "$elemMatch" : {  "grade" : "A", "score":10, "date":ISODate("2014-08-11T00:00:00Z")  } } }, {"nome" : 1, "grades": 1}).pretty()
db.rest.find( { "grades" : { "$elemMatch" : {  "grade" : "A", "score":10, "date":ISODate("2014-08-11T00:00:00Z")  } } }, {"nome" : 1, "grades": 1, "_id":0}).pretty()
db.rest.find( { "grades.-2.grade":"A" } ).pretty()
db.rest.find( { "grades.0.grade":"A" } ).pretty()
db.rest.find( { "grades.-1.grade":"A" } ).pretty()
db.rest.find( { "grades.1.grade":"A" } ).pretty()
db.rest.find( { "grades" : { "$elemMatch": { "1.grade":"A", "1.date":ISODate("2014-08-11T00:00:00Z") } ).pretty() )
db.rest.find( { "grades" : { "$elemMatch": { "1.grade":"A", "1.date":ISODate("2014-08-11T00:00:00Z") } } } ).pretty()
db.rest.find( { "grades" : { "$elemMatch": { "grade":"A", "date":ISODate("2014-08-11T00:00:00Z") } } } ).pretty()
db.rest.find( { "grades" : { "$elemMatch": {  "1.date":ISODate("2014-08-11T00:00:00Z") } } } ).pretty()
db.rest.find( { "grades" : { "$elemMatch": {  "3.date":ISODate("2014-08-11T00:00:00Z") } } } ).pretty()
db.rest.find( { "grades" : { "$elemMatch": { "1.grade":"A", "date":ISODate("2014-08-11T00:00:00Z") } } } ).pretty()
db.rest.find( { $and : { [ "grades.1.grade":"A", "grades.1.date":ISODate("2014-08-11T00:00:00Z" ) ] } } ).pretty()
db.rest.find( { $and : { [ "grades.1.grade":"A", "grades.1.date":ISODate("2014-08-11T00:00:00Z") ] } } ).pretty()
db.rest.find( { $and : { [ {"grades.1.grade":"A"}, {"grades.1.date":ISODate("2014-08-11T00:00:00Z")} ] } } ).pretty()
db.rest.find( { {"grades.1.grade":"A"}, {"grades.1.date":ISODate("2014-08-11T00:00:00Z")} } ).pretty()
db.rest.find( { "grades.1.grade":"A", "grades.1.date":ISODate("2014-08-11T00:00:00Z") } ).pretty()
db.rest.find({ $and : [ {"grades.1.grade":"A"}, {"grades.1.date":ISODate("2014-08-11T00:00:00Z")} ] ).pretty()  )
db.rest.find({ $and : [ {"grades.1.grade":"A"}, {"grades.1.date":ISODate("2014-08-11T00:00:00Z")} ] } ).pretty()
db.rest.find( {"grades.1.date":ISODate("2014-08-11T00:00:00Z") } ).pretty()
db.rest.find( "grades": { "$elemMatch" : {"1.date":ISODate("2014-08-11T00:00:00Z") } } ).pretty()
db.rest.find( "grades": { "$elemMatch" : { "1.date":ISODate("2014-08-11T00:00:00Z") } } ).pretty()
db.rest.find( "grades": { "$elemMatch" : { "score":{$lt:10 } } ).pretty() )
db.rest.find( {"grades": { "$elemMatch" : {"1.date":ISODate("2014-08-11T00:00:00Z") } } } ).pretty()
db.rest.find( {"grades.1.date":ISODate("2014-08-11T00:00:00Z")  } ).pretty()
db.rest.find( {"grades": { "$elemMatch" : {"1.date":ISODate("2014-08-11T00:00:00Z") } } } ).pretty()
db.rest.find({ $and : [ {"grades.1.grade":"A"}, {"grades.1.date":ISODate("2014-08-11T00:00:00Z")} ] } ).pretty()
db.rest.find( { "address.coord.1":{$gt:42, $lte:52} })
db.rest.find( { "address.coord.1":{$gt:42, $lte:52} }).pretty()
db.rest.find( { "address.coord.1":{$gt:42, $lte:52} }, { "restaurant_id":1, "nome":1, "address":1, "address.coord":1 }).pretty()
db.rest.find( { "address.coord.1":{$gt:42, $lte:52} }, { "restaurant_id":1, "nome":1, "address":1 }).pretty()
db.rest.find( { "address.coord.1":{$gt:42, $lte:52} }, { "restaurant_id":1, "nome":1, "address":1, "_id":0 }).pretty()
db.rest.find({}, {"nome":1}).sort()
db.rest.find({}, {"nome":1}).sort({})
db.rest.find({}, {"nome":1, "_id":0}).sort({})
db.rest.find({}, {"nome":1, "_id":0}).sort({}).pretty()
db.rest.find({}, {"nome":1, "gastronomia":1, "address.localidade":1})
db.rest.find({}, {"nome":1, "gastronomia":1, "localidade":1})
db.rest.find()
db.rest.find().pretty()
db.rest.find({}, {"nome":1, "gastronomia":1, "localidade":1, "_id":0})
db.rest.find({}, {"nome":1, "gastronomia":1, "localidade":1, "_id":0}).sort({"gastronomia":1, "localidade":-1})
db.rest.find({}, {"nome":1, "gastronomia":1, "localidade":1, "grades":1, "_id":0}).sort({"gastronomia":1})
db.rest.find({}, {"nome":1, "gastronomia":1, "localidade":1, "grades":1, "_id":0}).sort({"gastronomia":1}).pretty()
db.rest.find({"gastronomia":{ "$ne": "American"}, {"nome":1, "gastronomia":1, "localidade":1, "grades":1, "_id":0}).sort({"gastronomia":1}).pretty()  )
db.rest.find({"gastronomia":{ "$ne": "American"}}, {"nome":1, "gastronomia":1, "localidade":1, "grades":1, "_id":0}).sort({"gastronomia":1}).pretty()
db.rest.find({"gastronomia":{ "$ne": "American"}, "grades.grade":"A"}, {"nome":1, "gastronomia":1, "localidade":1, "grades":1, "_id":0}).sort({"gastronomia":1}).pretty()
db.rest.aggregate({"localidade"})
db.rest.aggregate(["$group": {_id: "$localidade", count: {$sum: 1}}) )
db.rest.aggregate(["$group": {_id: "$localidade", count: {$sum: 1}})] )
db.rest.aggregate(["$group": {_id: "$localidade", count: {$sum: 1}}])
db.rest.aggregate( [ {$group : {_id : "$localidade", count: {$sum: 1} }}])
db.rest.aggregate( [ {$group : {local : "$localidade", count: {$sum: 1} }}])
db.rest.aggregate( [ {$group : {_local : "$localidade", count: {$sum: 1} }}])
db.rest.aggregate( [ {$group : {_id : "$localidade", count: {$sum: 1} }}])
db.rest.aggregate( [ {$group : {_id : "$nome", avg_score: {$avg: $grades.score} }}])
db.rest.aggregate( [ {$group : {_id : "$nome", avg_score: {$avg: "$grades.score"} }}])
db.rest.aggregate( [ {$group : {_id : "$restaurant_id", avg_score: {$avg: "$grades.score"} }}])
load("populatePhones.js")
populatePhones
populatePhones(351, 1, 5)
db.phones.drop()
populatePhones(351, 1, 200000)
show collections
db
db.contacts.find()
db.contacts.drop()
db.phones.find()
db.phones.find().pretty()
db.phones.find().count()
use cbd
db.rest.aggregate( [ { $match: { "address.rua": "Flatbush Avenue"}}, {$group : {_id: "$gastronomia", count: {$sum: 1} }}, ] ).pretty()
db.rest.aggregate([{ $group : { _id: "$address.rua", count: {$sum: 1} }}, { $sort: { "count": -1 ]).pretty() )
db.rest.aggregate([{ $group : { _id: "$address.rua", count: {$sum: 1} }}, { $sort: { "count": -1} } ]).pretty()
use test
db.phones.find().count()
populatePhones
show collections
db.phones.find().pretty()
db.phones.aggregate( [ { $group: { _id: "components.prefix", $count : {$sum:1} }} ])
db.phones.aggregate( [ { $group: { _id: "$components.prefix", $count : {$sum:1} }} ])
db.phones.aggregate( [ { $group: { _id: "$components.prefix", count : {$sum:1} }} ])
db.phones.aggregate( [ { $group: { _id: "$components.prefix", count : {$sum:1} }} ]).pretty()
db,find()
db.phones.find()
db.phones.find().pretty()
db.phones.find({},{ "_id":1}).pretty()
db.phones.find()
load("find_patterns.js")
find_patterns
find_patterns()
load("find_patterns.js")
find_patterns()
load("find_patterns.js")
find_patterns()
load("find_patterns.js")
find_patterns()
db.phones.find()
find_patterns()
db
show collections
load("find_patterns.js")
find_patterns()
db.phones.find().explain()
find_patterns(db.phones.find())
load("find_patterns.js")
find_patterns(db.phones.find())
load("find_patterns.js")
find_patterns(db.phones.find())
load("find_patterns.js")
load("find_patterns.js")
find_patterns()
load("find_patterns.js")
find_patterns()
load("find_patterns.js")
find_patterns()
db
show collections
use cbd
show collections
